<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <title>Rust & Webassembly</title>
        <script>
            const Module = {
                wasmBinaryFile: 'wasm_demo.wasm'
            }
        </script>
        <script src='./index.js'></script>
        <link href='./index.css' rel='stylesheet'>
        <link href='https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.css' rel='stylesheet'>
        <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    </head>
    <body>
        <section>
            <h1>ðŸ¦€ + ðŸ•¸</h1>
            <h1>âœ¨ Assembling the Web ðŸ”§</h1>
            <h2>Better Web App Performance with Rust and Webassembly</h2>
        </section>

        <section>
            <img src='./wasm.svg'>
        </section>

        <section>
            <h2>Webass What??</h2>
        </section>

        <section>
            <h2>A Brief History of Trying to Embed Things in Javascript</h2>
            <ul>
                <li>Java Applets</li>
                <li>asm.js</li>
            </ul>
        </section>

        <section>
            <h2>Things to Know About JS</h2>
            <ul>
                <li>JS is dyanic</li>
                <li>JS uses garbage collection</li>
                <li>Eventually we'll have the host-binding proposal (https://github.com/WebAssembly/host-bindings/blob/master/proposals/host-bindings/Overview.md)</li>
            </ul>
        </section>

        <section>
            <h2>Emscripten</h2>
        </section>

        <section>
            <h2>Why Wasm?</h2>
            <ul>
                <li>Part of the Open Web Platform</li>
                <li>Memory safe (sandboxed)</li>
                <li>Achieves High Performance (speed &amp; size)</li>
            </ul>
        </section>

        <section>
            <code>
<pre>
(module
    (type $0 (func (param i32 i32) (result i32)))
    (export "add" $add)
    (func $add (type $0) (param $var$0 i32) (param $var$1 i32) (result i32)
        (i32.add
            (get_local $var$0)
            (get_local $var1)
        )
    )
)
</pre>
            </code>
        </section>

        <section>
            <h1>Is wasm going to replace JS?</h1>
        </section>

        <section class='center'>
            <iframe src="https://giphy.com/embed/12XMGIWtrHBl5e" width="480" height="392" frameBorder="0" class="giphy-embed" allowFullScreen></iframe><p><a href="https://giphy.com/gifs/the-office-no-steve-carell-12XMGIWtrHBl5e"></p>
        </section>

        <section>
            <h2>Limitations of Wasm</h2>
            <p>Wasm modules can only call functions that deal with:</p>
            <ul>
                <li>i32</li>
                <li>i64</li>
                <li>f32</li>
                <li>f64</li>
            </ul>
        </section>

        <section>
            <h2></h2>

        </section>

        <section>
            <h2>Why Rust?</h2>
            <code>
                cargo build --target wasm-unknown-unknown
            </code>
            <ul>
                <li>Fast as C++</li>
                <li>Memory-safe</li>
                <li>Thread-safe</li>
            </ul>
        </section>

        <section>
            <h2>Limitations</h2>
            <p>Wasm modules can only call functions that deal with:</p>
            <ul>
                <li>i32</li>
                <li>i64</li>
                <li>f32</li>
                <li>f64</li>
            </ul>
        </section>

        <section>
            <h1>In the Wild</h1>
        </section>

        <section>
            <img src='./raytracer-wasm.png'>
        </section>

        <section>
            <h1>Vim</h1>
        </section>

        <section>
            <h1>https://twitter.com/jxxf/status/1027358517462626304</h1>
        </section>

        <section>
            <h2>js-sys</h2>
            <p>Get access to API from the ECMAScript standard without having to write them by hand with bindgen.</p>
            <code>
extern crate js_sys;
extern crate wasm_bindgen;
use wasm_bindgen::prelude::*;
#[wasm_bindgen]
pub fn timed(callback: &js_sys::Function) -> f64 {
    let then = js_sys::Date::now();
    callback.apply(JsValue::null(), &js_sys::Array::new()).unwrap();
    let now = js_sys::Date::now();
    now - then
}
            </code>
        </section>

        <section>
            <h1>Things to Keep in Mind</h1>
            <ul>
                <li>Glue Code</li>
                <li>Native Addons</li>
                <li>Ecosystem Maturity</li>
            </ul>
        </section>

        <section>
            <h2>Other Options</h2>
            <ul>
                <li>C/C++</li>
                <li><a href='https://github.com/AssemblyScript'>AssemblyScript</a></li>
                <li>Turboscript</li>
                <li>https://grain-lang.org/</li>
            </ul>
        </section>

        <section>
            <h2>The Future</h2>
        </section>

        <div class='sticky-footer'>
            <a href='https://github.com'>
                <img src='./github.png'>
                EmmaRamirez
            </a>
            <a href='https://twitter.com/EmmaGRamirez'>
                <img src='./twitter.png'>
                @EmmaGRamirez
            </a>
        </div>
    </body>
</html>